<div class="d-flex flex-wrap">
  <!-- Sidebar Navigation -->
  <div class="bg-dark text-white vh-100 p-3 sidebar" [ngClass]="{'d-none d-md-block': !isMobile}">
    <h5 class="text-white">Borrower Dashboard</h5>
    <hr />
    <ul class="nav flex-column">
      <li class="nav-item">
        <a
          class="nav-link text-white"
          [ngClass]="{ active: active === 1 }"
          (click)="active = 1"
          >Payment Schedule/Loan History</a
        >
      </li>
      <li class="nav-item mt-3">
        <button class="btn btn-light w-100" (click)="logout()">Logout</button>
      </li>
    </ul>
  </div>

  <!-- Mobile Sidebar Toggle -->
  <button
    class="btn btn-dark d-md-none mb-3"
    (click)="toggleSidebar()"
    [innerHTML]="isSidebarVisible ? 'Hide Menu' : 'Show Menu'"
  ></button>
  <div
    class="bg-dark text-white p-3 mobile-sidebar d-md-none"
    [ngClass]="{ 'd-block': isSidebarVisible, 'd-none': !isSidebarVisible }"
  >
    <ul class="nav flex-column">
      <li class="nav-item">
        <a
          class="nav-link text-white"
          [ngClass]="{ active: active === 1 }"
          (click)="active = 1; toggleSidebar()"
          >Payment Schedule/Loan History</a
        >
      </li>
      <li class="nav-item mt-3">
        <button class="btn btn-light w-100" (click)="logout()">Logout</button>
      </li>
    </ul>
  </div>

  <!-- Main Content -->
  <div class="flex-grow-1 p-4">
    <!-- Profile Section -->
    <div class="mb-4">
      <div class="d-flex flex-wrap align-items-center gap-3">
        <img
          [src]="users$?.profile ?? '../../../assets/profile.png'"
          class="rounded-circle"
          width="80px"
          height="80px"
        />
        <div>
          <h6 class="text-dark">
            {{ users$?.lastName }} {{ users$?.firstName }}
            {{ users$?.middleName }}
          </h6>
          <span class="text-muted">{{ users$?.username }} </span>
        </div>
      </div>
    </div>

    <!-- Loan Cards -->
    <div class="row mb-3">
      <div class="col-12 col-md-6 col-lg-4 mb-3" *ngFor="let loans of activeLoans$ | async">
        <div class="card">
          <div class="card-body">
            <div class="row">
              <div class="col-6">
                <span class="text-muted">Loan ID</span>
                <h6>{{ loans.id }}</h6>
              </div>
              <div class="col-6">
                <span class="text-muted">Amount</span>
                <h6>{{ loans.amount | currency : 'PHP' }}</h6>
              </div>
              <div class="col-6">
                <span class="text-muted">Interest</span>
                <h6>{{ loans.interest }} %</h6>
              </div>
              <div class="col-6">
                <span class="text-muted">Amount Paid</span>
                <h6>{{ loans.amountPaid | currency : 'PHP' }}</h6>
              </div>
            </div>
            <hr />
            <span class="text-muted">Payment Schedule</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

