<div class="d-flex align-items-center p-3 justify-content-between">
  <h5>Loans</h5>
  <div class="d-flex">
    <div ngbDropdown class="d-inline-block">
      <button
        type="button"
        class="btn btn-dark"
        id="loan-dropdown"
        ngbDropdownToggle
      >
        Create a loan
      </button>
      <div
        ngbDropdownMenu
        class="dropdown-menu dropdown-menu-end"
        aria-labelledby="loan-dropdown"
      >
        <button ngbDropdownItem (click)="createLoan()">New</button>

        <button ngbDropdownItem>Previous Borrower</button>
      </div>
    </div>
  </div>
</div>

<table class="table table-striped">
  <thead>
    <tr>
      <th scope="col">Loan ID</th>
      <th scope="col">Borrower Name</th>
      <th scope="col">Amount</th>
      <th scope="col">Interest</th>
      <th scope="col">Loan Total</th>
      <th scope="col">Status</th>
      <th scope="col">Created At</th>
      <th scope="col">Updated At</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let loanWithUser of loans$">
      <td>{{ loanWithUser.loan?.id }}</td>
      <td>
        {{ loanWithUser?.users?.firstName }} {{ loanWithUser.users?.lastName }}
      </td>
      <td>{{ loanWithUser.loan?.amount | currency : "PHP" }}</td>
      <td>{{ loanWithUser.loan?.interest }}%</td>
      <td>{{ loanWithUser.loan?.loanTotal | currency : "PHP" }}</td>

      <td>
        <span
          class="badge text-white"
          [ngClass]="{
            '  text-bg-danger ': loanWithUser.loan?.status === 'DECLINED',
            '  text-bg-warning': loanWithUser.loan?.status === 'PENDING',
            '  text-bg-success':
              loanWithUser.loan?.status === 'CONFIRMED' ||
              loanWithUser.loan?.status === 'PAID'
          }"
        >
          {{ loanWithUser.loan?.status?.toLocaleLowerCase() }}
        </span>
      </td>
      <td>{{ loanWithUser.loan?.createdAt | date : "short" }}</td>
      <td>{{ loanWithUser.loan?.updatedAt | date : "short" }}</td>
    </tr>
  </tbody>
</table>
